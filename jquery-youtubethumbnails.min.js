!function(){$.fn.YTthumbnail=function(e){return e=$.extend({apiKey:!1,videoURL:null,videoID:null,minWidth:320,minHeight:180,fallbackImage:"images/default.jpg",callback:null},e),0==e.apiKey?(console.error("No API key set. Go to https://developers.google.com/youtube/registering_an_application for help creating an API key"),!1):""!=e.videoID&&null!=e.videoID||""!=e.videoURL&&null!=e.videoURL?(_getIDFromURL=function(e){try{var i=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,t=e.match(i);if(t&&11==t[7].length)return t[7]}catch(o){return console.error("Unable to get video ID from URL"),!1}},null!=e.videoID&&""!=e.videoID||(e.videoID=_getIDFromURL(e.videoURL),0!=e.videoID)?($.getJSON("https://www.googleapis.com/youtube/v3/videos?id="+e.videoID+"&key="+e.apiKey+"&part=snippet&callback=?",function(i){var t=i.items[0].snippet.thumbnails,o={width:e.minWidth,height:e.minHeight,url:e.fallbackImage};for(thumbnail in t)t[thumbnail].width>o.width&&t[thumbnail].height>o.height&&(o.width=t[thumbnail].width,o.height=t[thumbnail].height,o.url=t[thumbnail].url);$.isFunction(e.callback)&&e.callback(o,t)}),void 0):!1):(console.error("No video URL or ID set."),!1)}}(jQuery);
